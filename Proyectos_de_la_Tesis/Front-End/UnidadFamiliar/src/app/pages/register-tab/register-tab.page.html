<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-menu-button></ion-menu-button>
    </ion-buttons>
    <ion-title>Registrar Amigos</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-grid>
    <ion-row justify-content-center>
      <ion-col align-self-center size-md="6" size-lg="5" size-xs="12">
        <div padding>
          <form [formGroup]="formularioUsuario" (ngSubmit)="addFriend()" novalidate>
          <ion-icon name="clipboard" class="alinearIcono"></ion-icon>
                <ion-list>
                    <ion-item>
                      <ion-icon name="mail" item-left></ion-icon>
                      <ion-label stacked>Correo:</ion-label>
                      <ion-input formControlName="correo" type="email" placeholder="correo" name="correo" required maxlength="30" [(ngModel)]="userData.email_friend"></ion-input>
                    </ion-item>
                    <ion-item *ngIf="formularioUsuario.get('correo').errors && formularioUsuario.get('correo').dirty">
                      <p *ngIf="formularioUsuario.get('correo').hasError('required')" class="error">
                        El correo es requerido.
                      </p>
                      <p *ngIf="formularioUsuario.get('correo').hasError('email')" class="error">
                        El correo electronico indicado no es valido.
                      </p>
                    </ion-item>
                    <ion-item>
                      <ion-icon name="person" item-left></ion-icon>
                      <ion-label stacked>Nombre: </ion-label>
                      <ion-input formControlName="nombre" type="text" placeholder="Nombre" name="nombre" required maxlength="30" [(ngModel)]="userData.nombre_friend"> </ion-input>
                    </ion-item>
                    <ion-item *ngIf="formularioUsuario.get('nombre').errors && formularioUsuario.get('nombre').dirty">
                      <p *ngIf="formularioUsuario.get('nombre').hasError('required')" class="error">
                        El nombre es requerido.
                      </p>
                      <p *ngIf="formularioUsuario.get('nombre').hasError('maxlength')" class="error">
                        El maximo de caracteres permitidos es 30.
                      </p>
                    </ion-item>
                    <ion-item>
                    <ion-icon name="call" item-left></ion-icon>
                    <ion-label stacked>Teléfono: </ion-label>
                    <ion-input formControlName="numero_contacto" type="text" placeholder="Numero de contacto" name="numero_contacto" required maxlength="10" [(ngModel)]="userData.telefono_friend"></ion-input>
                    </ion-item>
                    <ion-item *ngIf="formularioUsuario.get('numero_contacto').errors && formularioUsuario.get('numero_contacto').dirty">
                      <p *ngIf="formularioUsuario.get('numero_contacto').hasError('required')" class="error">
                        El numero es requerido.
                      </p>
                      <p *ngIf="formularioUsuario.get('numero_contacto').hasError('maxlength')" class="error">
                        El numero de celular no puede contener más de 10 caracteres
                      </p>
                      <p *ngIf="formularioUsuario.get('numero_contacto').hasError('minlength')" class="error">
                        El numero de celular debe contener 10 caracteres
                      </p>
                      <p *ngIf="formularioUsuario.get('numero_contacto').hasError('pattern')" class="error">
                        No se permite letras
                      </p>
                    </ion-item>
                  </ion-list>
                  <div class="padding">
                    <ion-button block type="submit" class="alinearBoton" [disabled]="!formularioUsuario.valid">Agregar Amigo</ion-button>
                  </div>
                  <div padding>
                    <ion-button expand="full" color="danger" (click)="cancelar()">Cancelar</ion-button>
                  </div>

                  <ion-item>
                    <ion-icon name="repeat" item-left></ion-icon>
                    <ion-label stacked>Amigos Agregados: </ion-label>
                    <ion-input type="number" name="cantidad" disabled><span>{{count}}</span></ion-input>
                  </ion-item>
                  <ion-item>
                    <ion-icon name="create" item-left></ion-icon>
                    <ion-label stacked>Cantidad Máxima: </ion-label>
                    <ion-input type="number" name="cantidad" disabled>3</ion-input>
                  </ion-item>
          </form>
        </div>
      </ion-col>
    </ion-row>
  </ion-grid>
</ion-content>
